# Clearing Logistics ERP

This is the README file for the Clearing Logistics ERP application. This monolithic repository contains both the frontend and backend of the application, along with documentation and scripts.

---
## Project Status

The project is in a good state. It has a solid foundation with a working backend and a frontend that interacts with it. Many core features are now fully implemented.

### Implemented Features

*   **Authentication:** User login and registration with role-based access control.
*   **Vehicle Management:** Full CRUD operations for vehicles with a complete audit trail.
*   **Document Management:** Document upload, download, and preview, with versioning.
*   **Cost Estimation:** A "Smart Cost Estimator" with terminal-specific analysis.
*   **Financials:** Financial record management, including payments and reporting for admins.

### Key Improvement Suggestions

1.  **Comprehensive Testing:** The highest priority should be to add a full suite of tests, including:
    *   **Unit Tests:** For individual functions and components in both the frontend and backend.
    *   **Integration Tests:** To ensure that the API endpoints and database interactions work as expected.
    *   **End-to-End (E2E) Tests:** To simulate user flows and catch bugs in the user interface.
2.  **Enhanced Security:**
    *   **Secrets Management:** Implement a robust secrets management solution (like HashiCorp Vault or AWS Secrets Manager) instead of relying on `.env` files, especially for production.
    *   **Dependency Scanning:** Integrate a tool like Snyk or Dependabot to scan for vulnerabilities in third-party libraries.
3.  **CI/CD Pipeline:** Automate the testing and deployment process by setting up a Continuous Integration/Continuous Deployment (CI/CD) pipeline using tools like GitHub Actions, GitLab CI, or Jenkins.
4.  **UI/UX Refinement:** Invest time in improving the user interface and experience. This could involve using a component library like Material-UI or Ant Design and focusing on user-friendly workflows.

---
## Tech Stack

- **Backend:**
  - **Framework:** FastAPI
  - **Database:** PostgreSQL (or SQLite for development) with Alembic for migrations
  - **Authentication:** JWT (JSON Web Tokens)
- **Frontend:**
  - **Framework:** React
  - **Language:** TypeScript
  - **Build Tool:** Vite
  - **Styling:** Material-UI
- **Development:**
  - **IDE:** VSCode / PyCharm
  - **Version Control:** Git & GitHub

---
## Getting Started

### Prerequisites

- Python 3.10+
- Node.js 18+
- `pip` and `npm` (or `yarn`)

### Backend Setup

1.  **Navigate to the backend directory:**
    ```bash
    cd backend
    ```
2.  **Create and activate a virtual environment:**
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows use `venv\Scripts\activate`
    ```
3.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```
4.  **Create a `.env` file** in the `backend` directory. Copy the contents of `.env.example` if it exists, or use the following template:
    ```env
    DATABASE_URL="sqlite:///./clearing_erp.db"
    SECRET_KEY="your-super-secret-key-that-is-long-and-random"
    CUSTOMS_EXCHANGE_RATE=1600.00
    # Optional: for document storage
    # CLOUDINARY_URL="cloudinary://..."
    UPLOAD_DIR="uploads"
    ```
5.  **Run database migrations:**
    ```bash
    alembic upgrade head
    ```
6.  **Run the application:**
    ```bash
    uvicorn app.main:app --reload
    ```
    The backend will be available at `http://127.0.0.1:8000`.

### Frontend Setup

1.  **Navigate to the frontend directory:**
    ```bash
    cd frontend
    ```
2.  **Install dependencies:**
    ```bash
    npm install
    ```
3.  **Create a `.env.local` file** for environment variables. You'll need to specify the backend API URL:
    ```env
    VITE_API_URL=http://127.0.0.1:8000
    ```
4.  **Run the development server:**
    ```bash
    npm run dev
    ```
    The frontend will be available at `http://127.0.0.1:5173` (or another port if 5173 is in use).

---
## API Documentation

The API is documented using Swagger UI and ReDoc, which are automatically generated by FastAPI.

- **Swagger UI:** [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
- **ReDoc:** [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

For a detailed guide on creating users and testing endpoints, refer to the `usercreate.md` file.

---
## Contributing

Contributions are welcome! Please follow these steps:

1.  Fork the repository.
2.  Create a new branch (`git checkout -b feature/your-feature-name`).
3.  Make your changes.
4.  Commit your changes (`git commit -m 'Add some feature'`).
5.  Push to the branch (`git push origin feature/your-feature-name`).
6.  Open a Pull Request.

---
## License

This project is licensed under the MIT License. See the `LICENSE` file for details.
